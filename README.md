# Web-Larek Frontend

[Russian](#russian-version) | [English](#english-version)

---

## Russian Version üá∑üá∫

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
  - [–ü–æ—á–µ–º—É MVP –∏ —Å–æ–±—ã—Ç–∏—è?](#–ø–æ—á–µ–º—É-mvp-–∏-—Å–æ–±—ã—Ç–∏—è)
  - [–ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã](#–±–∞–∑–æ–≤—ã–µ-–∫–ª–∞—Å—Å—ã)
  - [–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ](#–º–æ–¥–µ–ª–∏-–¥–∞–Ω–Ω—ã—Ö-–∏-—Å–æ—Å—Ç–æ—è–Ω–∏–µ)
  - [–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–µ–≤](#—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ-—Å–ª–æ–µ–≤)
  - [–ü—Ä–∏–º–µ—Ä—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è](#–ø—Ä–∏–º–µ—Ä-–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è-–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-—Ç–æ–≤–∞—Ä–∞-–≤-–∫–æ—Ä–∑–∏–Ω—É)
- [–ù–∞—á–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è](#–Ω–∞—á–∞–ª—å–Ω–∞—è-–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- [–°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π](#—Å–∏—Å—Ç–µ–º–∞-—Å–æ–±—ã—Ç–∏–π)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-–¥–µ—Ç–∞–ª–∏)

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç - –º–∞–≥–∞–∑–∏–Ω –º–µ—Ä—á–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —Ç—Ä–∞—Ç–∏—Ç—å "—Å–∏–Ω–∞–ø—Å—ã" (–≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –≤–∞–ª—é—Ç–∞) –Ω–∞ –∑–∞–±–∞–≤–Ω—ã–µ –∞–π—Ç–µ–º—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. –í –ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –Ω–∏–º —è –æ—Å–≤–æ–∏–ª TypeScript –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É MVP, –Ω–∞—É—á–∏–ª—Å—è –¥–µ–ª–∞—Ç—å –æ—Ç–∑—ã–≤—á–∏–≤—É—é –≥–∞–ª–µ—Ä–µ—é, —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ—Ä–∑–∏–Ω–æ–π –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Ñ–æ—Ä–º.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ü–æ—á–µ–º—É MVP –∏ —Å–æ–±—ã—Ç–∏—è?

–í —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω MVP (Model-View-Presenter) –∏ —Å–æ–±—ã—Ç–∏–π–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –ø–æ—Ç–æ–º—É —á—Ç–æ:

- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ —É–ø—Ä–æ—â–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É
- –°–æ–±—ã—Ç–∏—è –ø–æ–º–æ–≥–∞—é—Ç –∏–∑–±–µ–∂–∞—Ç—å —Å–∏–ª—å–Ω–æ–π —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞
- –õ–µ–≥—á–µ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã

#### EventEmitter

–ë–∞–∑–æ–≤—ã–π –±—Ä–æ–∫–µ—Ä —Å–æ–±—ã—Ç–∏–π, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω Observer:

```typescript
class EventEmitter {
	private _events: Map<string, Array<Function>>;

	on(event: string, callback: Function): void;
	emit(event: string, data?: any): void;
	off(event: string, callback: Function): void;
}
```

#### Component<T>

–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

```typescript
abstract class Component<T> {
	protected _container: HTMLElement;
	protected _template: HTMLTemplateElement;

	constructor(container: HTMLElement) {
		this._container = container;
		this._template = this.getTemplate();
	}

	abstract render(data?: T): void;
}
```

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

#### –î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–∞

```typescript
interface IProduct {
	id: string;
	title: string;
	description: string;
	category: string;
	price: number;
	image: string;
}
```

#### –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã

```typescript
interface ICartItem extends IProduct {
	quantity: number;
}

type ICart = ICartItem[];
```

#### –î–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞

```typescript
interface IOrderForm {
	email: string;
	phone: string;
	address: string;
	payment: 'card' | 'cash';
}
```

### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–µ–≤

#### –°–ª–æ–π Model

- `AppState`: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - –ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
  - –û–ø–µ—Ä–∞—Ü–∏–∏ –∫–æ—Ä–∑–∏–Ω—ã
  - –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- `OrderModel`: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫–∞–∑–æ–≤
  - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
  - –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞

#### –°–ª–æ–π View

- `ProductCard`: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤
  - –†–µ–Ω–¥–µ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–∞—Ç–∞–ª–æ–≥–∞
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- `CartView`: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ—Ä–∑–∏–Ω—ã
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
  - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤
- `Modal`: –°–∏—Å—Ç–µ–º–∞ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª—é–±–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º

#### –°–ª–æ–π Presenter (index.ts)

- –°–≤—è–∑—ã–≤–∞–µ—Ç Model –∏ View
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–ª—É—à–∞—Ç–µ–ª–∏ —Å–æ–±—ã—Ç–∏–π
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
- –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Ç–æ–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É:

1. **–°–ª–æ–π View (ProductCard)**

```typescript:src/components/ProductCard.ts
class ProductCard extends Component<IProduct> {
    private _button: HTMLButtonElement;

    protected _handleClick() {
        // View –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ
        this.events.emit('cart:add', {
            id: this._data.id
        });
    }
}
```

2. **–°–ª–æ–π Presenter (index.ts)**

```typescript:src/index.ts
// Presenter –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ
events.on('cart:add', (item: IProduct) => {
    // –í—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ –º–æ–¥–µ–ª–∏
    appState.addToCart(item);
});
```

3. **–°–ª–æ–π Model (AppState)**

```typescript:src/models/AppState.ts
class AppState {
    private _cart: ICart = [];

    addToCart(item: IProduct): void {
        this._cart.push(item);
        // Model –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
        this.events.emit('cart:changed', this._cart);
    }
}
```

4. **–°–ª–æ–π Presenter (index.ts)**

```typescript:src/index.ts
// Presenter –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ –º–æ–¥–µ–ª–∏
events.on('cart:changed', (cart: ICart) => {
    // –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –º–æ–¥–µ–ª–∏ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
    cartView.render(cart);
    headerView.updateCounter(cart.length);
});
```

5. **–°–ª–æ–π View (CartView)**

```typescript:src/components/CartView.ts
class CartView extends Component<ICart> {
    render(cart: ICart): void {
        // View –æ–±–Ω–æ–≤–ª—è–µ—Ç UI –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        this._container.innerHTML = this.renderCart(cart);
    }
}
```

## –ù–∞—á–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:
   - –°–æ–∑–¥–∞–Ω–∏–µ EventEmitter –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±—ç–∫–µ–Ω–¥–æ–º
2. –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –º–æ–¥–µ–ª–µ–π:
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è AppState –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–æ–º –∏ –∫–æ—Ä–∑–∏–Ω–æ–π
   - –°–æ–∑–¥–∞–Ω–∏–µ OrderModel –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–∫–∞–∑–æ–≤
3. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è:
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CatalogView –¥–ª—è –≥–∞–ª–µ—Ä–µ–∏ —Ç–æ–≤–∞—Ä–æ–≤
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è CartView –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã
   - –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª—É—à–∞—Ç–µ–ª–µ–π —Å–æ–±—ã—Ç–∏–π –≤ index.ts:
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –º–æ–¥–µ–ª–∏ –∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π
5. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
   - –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Å–µ—Ä–≤–µ—Ä–∞
   - –†–µ–Ω–¥–µ—Ä –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å —Ç–æ–≤–∞—Ä–∞–º–∏
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—É—Å—Ç–æ–π –∫–æ—Ä–∑–∏–Ω—ã

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
BaseView
‚îú‚îÄ‚îÄ Modal (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ –ø–æ–ø–∞–ø–∞–º–∏)
‚îú‚îÄ‚îÄ ProductCard
‚îÇ   ‚îú‚îÄ‚îÄ CatalogCard
‚îÇ   ‚îî‚îÄ‚îÄ PreviewCard
‚îú‚îÄ‚îÄ Cart
‚îî‚îÄ‚îÄ OrderForm
```

–ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ –æ–±—â–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è. Modal —è–≤–ª—è–µ—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª—é–±–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ.

## –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

- `cart:add` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
- `cart:remove` - —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
- `cart:changed` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
- `order:submit` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞
- `modal:open` - –æ—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞
- `modal:close` - –∑–∞–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### –ó–∞–ø—É—Å–∫ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
npm run dev
```

### –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
npm run build
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ common.blocks/   # SCSS –±–ª–æ–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ basket.scss
‚îÇ   ‚îú‚îÄ‚îÄ button.scss
‚îÇ   ‚îú‚îÄ‚îÄ card.scss
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ components/     # TypeScript –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ base/       # –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ modal.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ view.ts
‚îÇ   ‚îú‚îÄ‚îÄ basket.ts
‚îÇ   ‚îú‚îÄ‚îÄ card.ts
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ images/        # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∏–∫–æ–Ω–∫–∏
‚îú‚îÄ‚îÄ pages/         # HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îú‚îÄ‚îÄ public/        # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ scss/          # –°—Ç–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ mixins/    # SCSS –º–∏–∫—Å–∏–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ _variables.scss
‚îÇ   ‚îî‚îÄ‚îÄ styles.scss
‚îú‚îÄ‚îÄ types/         # TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îú‚îÄ‚îÄ utils/         # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ vendor/        # –í–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ garamond/  # –®—Ä–∏—Ñ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ glyphter/
‚îÇ   ‚îî‚îÄ‚îÄ ys-text/
‚îî‚îÄ‚îÄ index.ts       # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- TypeScript
- HTML5 & CSS3
- Webpack
- ESLint
- Prettier

### API –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç RESTful API –¥–ª—è:

- –ü–æ–ª—É—á–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–∫–∞–∑–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω–æ–π

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ TypeScript
- –°–æ–±—ã—Ç–∏–π–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ UI
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω–µ
- –û—Ç–∑—ã–≤—á–∏–≤—ã–π –¥–∏–∑–∞–π–Ω

## [‚¨ÜÔ∏è –ö –Ω–∞—á–∞–ª—É](#web-larek-frontend)

## English Version üá¨üáß

## Table of Contents

- [Project Description](#project-description)
- [Application Architecture](#application-architecture)
  - [Why MVP and Events?](#why-mvp-and-events)
  - [Base Classes](#base-classes)
  - [Data Models and State](#data-models-and-state)
  - [Layer Separation](#layer-separation)
  - [Interaction Examples](#interaction-example-adding-to-cart)
- [Initial Setup](#initial-setup)
- [Component Structure](#component-structure)
- [Event System](#event-system)
- [Installation and Development](#installation-and-development)
- [Technical Details](#technical-details)

## Project Description

This is an educational project - a merchandise store for developers. Users can spend "synapses" (virtual currency) on fun developer-themed items. Through this project, I learned TypeScript and MVP architecture, implemented a responsive gallery, and worked with shopping cart functionality and form validation.

## Application Architecture

### Why MVP and Events?

This project uses the MVP (Model-View-Presenter) pattern and event-driven approach because:

- Separation of concerns simplifies debugging
- Events help avoid tight code coupling
- Easier to add new features

### Base Classes

#### EventEmitter

Base event broker implementing the Observer pattern:

```typescript
class EventEmitter {
	private _events: Map<string, Array<Function>>;

	on(event: string, callback: Function): void;
	emit(event: string, data?: any): void;
	off(event: string, callback: Function): void;
}
```

#### Component<T>

Abstract base class for all UI components:

```typescript
abstract class Component<T> {
	protected _container: HTMLElement;
	protected _template: HTMLTemplateElement;

	constructor(container: HTMLElement) {
		this._container = container;
		this._template = this.getTemplate();
	}

	abstract render(data?: T): void;
}
```

### Data Models and State

#### Product Data

```typescript
interface IProduct {
	id: string;
	title: string;
	description: string;
	category: string;
	price: number;
	image: string;
}
```

#### Cart State

```typescript
interface ICartItem extends IProduct {
	quantity: number;
}

type ICart = ICartItem[];
```

#### Order Data

```typescript
interface IOrderForm {
	email: string;
	phone: string;
	address: string;
	payment: 'card' | 'cash';
}
```

### Layer Separation

#### Model Layer

- `AppState`: Application state management
  - Product catalog
  - Cart operations
  - Order state
- `OrderModel`: Order processing
  - Form validation
  - Payment method handling
  - Order submission

#### View Layer

- `ProductCard`: Product display components
  - Catalog item rendering
  - Interaction handling
- `CartView`: Shopping cart interface
  - Content display
  - Total updates
- `Modal`: Modal window system
  - Any content display
  - Lifecycle management

#### Presenter Layer (index.ts)

- Connects Model and View
- Sets up event listeners
- Handles business logic
- Manages application flow

### Interaction Example: Adding to Cart

Let's look at the complete flow of adding an item to cart:

1. **View Layer (ProductCard)**

```typescript:src/components/ProductCard.ts
class ProductCard extends Component<IProduct> {
    private _button: HTMLButtonElement;

    protected _handleClick() {
        // View generates event
        this.events.emit('cart:add', {
            id: this._data.id
        });
    }
}
```

2. **Presenter Layer (index.ts)**

```typescript:src/index.ts
// Presenter handles event
events.on('cart:add', (item: IProduct) => {
    // Calls model method
    appState.addToCart(item);
});
```

3. **Model Layer (AppState)**

```typescript:src/models/AppState.ts
class AppState {
    private _cart: ICart = [];

    addToCart(item: IProduct): void {
        this._cart.push(item);
        // Model emits change event
        this.events.emit('cart:changed', this._cart);
    }
}
```

4. **Presenter Layer (index.ts)**

```typescript:src/index.ts
// Presenter handles model event
events.on('cart:changed', (cart: ICart) => {
    // Gets data from model and updates views
    cartView.render(cart);
    headerView.updateCounter(cart.length);
});
```

5. **View Layer (CartView)**

```typescript:src/components/CartView.ts
class CartView extends Component<ICart> {
    render(cart: ICart): void {
        // View updates UI with new data
        this._container.innerHTML = this.renderCart(cart);
    }
}
```

## Initial Setup

1. Initialise base services:
   - Create EventEmitter for event handling
   - Configure API service for backend communication
2. Create model instances:
   - Initialise AppState for managing catalog and cart
   - Create OrderModel for order processing
3. Create UI components:
   - Configure CatalogView for product gallery
   - Initialise CartView for shopping cart
   - Create modal window system
4. Set up event listeners in index.ts:
   - Connect model events to UI updates
   - Configure user actions handlers
5. Run the application:
   - Load initial catalog of products from the server
   - Render the main page with products
   - Initialise an empty cart

## Component Structure

```
BaseView
‚îú‚îÄ‚îÄ Modal (manages all popups)
‚îú‚îÄ‚îÄ ProductCard
‚îÇ   ‚îú‚îÄ‚îÄ CatalogCard
‚îÇ   ‚îî‚îÄ‚îÄ PreviewCard
‚îú‚îÄ‚îÄ Cart
‚îî‚îÄ‚îÄ OrderForm
```

Each component is responsible for a specific functionality and communicates through events. Modal is a universal component for displaying any content in a modal window.

## Event System

### Main Events

- `cart:add` - adding to cart
- `cart:remove` - removing from cart
- `cart:changed` - cart update
- `order:submit` - order submission
- `modal:open` - opening a modal
- `modal:close` - closing a modal

## Installation and Development

### Installation

```bash
npm install
```

### Development Run

```bash
npm run dev
```

### Build Project

```bash
npm run build
```

### Project Structure

```
src/
‚îú‚îÄ‚îÄ common.blocks/   # SCSS component blocks
‚îÇ   ‚îú‚îÄ‚îÄ basket.scss
‚îÇ   ‚îú‚îÄ‚îÄ button.scss
‚îÇ   ‚îú‚îÄ‚îÄ card.scss
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ components/     # TypeScript components
‚îÇ   ‚îú‚îÄ‚îÄ base/       # Base classes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ modal.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ view.ts
‚îÇ   ‚îú‚îÄ‚îÄ basket.ts
‚îÇ   ‚îú‚îÄ‚îÄ card.ts
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ images/        # Images and icons
‚îú‚îÄ‚îÄ pages/         # HTML pages
‚îú‚îÄ‚îÄ public/        # Static files
‚îú‚îÄ‚îÄ scss/          # Styles
‚îÇ   ‚îú‚îÄ‚îÄ mixins/    # SCSS mixins
‚îÇ   ‚îú‚îÄ‚îÄ _variables.scss
‚îÇ   ‚îî‚îÄ‚îÄ styles.scss
‚îú‚îÄ‚îÄ types/         # TypeScript interfaces
‚îú‚îÄ‚îÄ utils/         # Helper functions
‚îú‚îÄ‚îÄ vendor/        # External dependencies
‚îÇ   ‚îú‚îÄ‚îÄ garamond/  # Fonts
‚îÇ   ‚îú‚îÄ‚îÄ glyphter/
‚îÇ   ‚îî‚îÄ‚îÄ ys-text/
‚îî‚îÄ‚îÄ index.ts       # Entry point
```

## Technical Details

### Technology Stack

- TypeScript
- HTML5 & CSS3
- Webpack
- ESLint
- Prettier

### API Integration

The project uses RESTful API for:

- Retrieving product catalog
- Processing orders
- Managing the cart

### Implementation Features

- Strict data typing through TypeScript
- Event-driven architecture
- Component-based UI approach
- Client-side form validation
- Responsive design

[‚¨ÜÔ∏è Back to top](#web-larek-frontend)
